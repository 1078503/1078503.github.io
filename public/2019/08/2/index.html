<!DOCTYPE html>
<html lang="zh-cn"><meta charset="utf-8"><meta name="generator" content="Hugo 0.60.0" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name="color-scheme" content="light dark">
<meta name="supported-color-schemes" content="light dark"><title>【网站维护】一些简单满意的调整&nbsp;&ndash;&nbsp;近视眼逛博客 DTZ9.NET</title><link rel="stylesheet" href="/css/core.min.fab3f9cea37b7cd3be04e2f880803d9518936865fe637659e3c5a0f9eb5450bd7e222a4b95a9ac18ca8ea9fbe5dfce1e.css" integrity="sha384-&#43;rP5zqN7fNO&#43;BOL4gIA9lRiTaGX&#43;Y3ZZ48Wg&#43;etUUL1&#43;IipLlamsGMqOqfvl384e">
<link href="https://fonts.loli.net/css?family=Noto+Serif+SC:200&display=swap&subset=chinese-simplified"
    rel="stylesheet">
<link rel="stylesheet" href="https://api.dtz9.net/disqus/dist/iDisqus.min.css">
<script src="https://api.dtz9.net/disqus/dist/iDisqus.min.js"></script>
<script data-ad-client="ca-pub-5883329460904326" async
    src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<link href="https://fonts.loli.net/css?family=Noto+Serif+SC:500&display=swap&subset=chinese-simplified"
    rel="stylesheet"><body>
    <div class="base-body"><section id="header" class="site header">
    <div class="header wrap"><span class="header left-side"><a class="site home" href="/"><img class="site logo" src="/logo.png" alt /><span class="site name">近视眼逛博客 DTZ9.NET</span></a></span>
        <span class="header right-side"><div class="nav wrap"><nav class="nav"><a class="nav item" href="/categories">分类</a><a class="nav item" href="/about">关于</a><a class="nav item" href="https://t.me/link1078503"target="_blank">群组</a><a class="nav item" href="/links">友链</a></nav></div></span></div>
       
    
    <div align="center">
        <a href="https://www.6le.cc/page.aspx?c=referral&u=9044" target="_blank"><img src="https://img.dtz9.net/imgs/2020/02/800c24daafa17fa2.png" /></a>
    </div></section><div id="content"><section class="article header">
    <h1 class="article title">【网站维护】一些简单满意的调整</h1><p class="article date">2019-08-06</p></section><article class="article markdown-body"><p>闲来无事，在家看着视频逛着博客，看到很多博客分享代码的时候代码高亮的样式都很不错，想起来自己还没弄呢。</p>
<h2 id="heading">代码高亮</h2>
<p>就随便找了一个 <a href="https://prismjs.com/">prism.js</a> ，选了一些常用的语言，css+js一共约34kb。想找个js库的cdn来着，没找到合适的，所以决定就这样用吧。将下载的两个文件放入对应的目录，就可以引用了，下面给新手一个引用的简单指引：</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p"></span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p"></span><span class="p">&gt;</span>
    ...
    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;css/prism.css&#34;</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;stylesheet&#34;</span> <span class="p">/</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="p">/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p"></span><span class="p">&gt;</span>
    ...
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;js/prism.js&#34;</span><span class="p"></span><span class="p">&gt;</span><span class="p">&lt;</span><span class="p">/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="p">/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="p">/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div><p>以上就是引用的方法和效果展示🙂。</p>
<p>页面上需要下面的代码，才会被高亮。</p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">pre</span><span class="p"></span><span class="p">&gt;</span><span class="p">&lt;</span><span class="nt">code</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;language-css&#34;</span><span class="p"></span><span class="p">&gt;</span>p { color: red }<span class="p">&lt;</span><span class="p">/</span><span class="nt">code</span><span class="p">&gt;</span><span class="p">&lt;</span><span class="p">/</span><span class="nt">pre</span><span class="p">&gt;</span>
</code></pre></div><p>markdown编辑器Typora只需要在编辑代码的时候选择语言就没有问题。其它编辑器环境没有测试。</p>
<h2 id="vps">VPS内存占用过高</h2>
<p>最近VPS出现很多次内存占用高的情况，前次通过修改Nginx的配置得以解决，最近一次直接内存超高服务器卡死了。不得不重启后查看内存占用情况，我使用的内存占用查看方法，Xshell连上VPS：</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">yum install htop -y <span class="o">&amp;&amp;</span> htop
</code></pre></div><p>经过观察是MySQL占用比较高导致的，Google了一下配置方法，做了一些调整并观察了一段时间，基本解决问题。不同的环境配置不一定一样所以这里就不分享配置参数了，有需要的可以Google相关。</p>
<h2 id="heading1">制作加载评论按钮</h2>
<p>代码高亮也做了，反正是折腾，于是顺便给首页添加一个<code>加载评论</code>按钮。</p>
<p>半路出家的选手，玩代码水平差的自己都看不下去，制作过程一波三折总是不完美。最后看到底部的友情链接样式于是就直接拿来修改了😭</p>
<p><code>css</code></p>
<div class="highlight"><pre class="chroma"><code class="language-css" data-lang="css"><span class="p">.</span><span class="nc">anniu</span> <span class="nt">li</span> <span class="p">{</span>
  <span class="k">float</span><span class="p">:</span> <span class="kc">left</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">anniu</span> <span class="nt">li</span> <span class="nt">a</span> <span class="p">{</span>
  <span class="k">background</span><span class="p">:</span> <span class="n">SeaGreen</span><span class="p">;</span>
  <span class="k">border</span><span class="p">:</span> <span class="mi">1</span><span class="kt">px</span> <span class="kc">solid</span> <span class="n">SeaGreen</span><span class="p">;</span>
  <span class="k">display</span><span class="p">:</span> <span class="kc">block</span><span class="p">;</span>
  <span class="k">text-align</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
  <span class="k">margin-left</span><span class="p">:</span> <span class="mi">15</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">margin-bottom</span><span class="p">:</span> <span class="mi">5</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">padding</span><span class="p">:</span> <span class="mi">0</span> <span class="mi">4</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">border-radius</span><span class="p">:</span> <span class="mi">2</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">width</span><span class="p">:</span> <span class="mi">300</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">color</span><span class="p">:</span> <span class="mh">#fff</span><span class="p">;</span>
  <span class="k">line-height</span><span class="p">:</span> <span class="mi">35</span><span class="kt">px</span><span class="p">;</span>
  <span class="k">white-space</span><span class="p">:</span> <span class="kc">nowrap</span><span class="p">;</span>
  <span class="k">overflow</span><span class="p">:</span> <span class="kc">hidden</span><span class="p">;</span>
  <span class="k">text-decoration</span><span class="p">:</span> <span class="kc">none</span><span class="p">;</span>
  <span class="k">font-size</span><span class="p">:</span> <span class="mi">14</span><span class="kt">px</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">anniu</span> <span class="nt">li</span> <span class="nt">a</span><span class="p">:</span><span class="nd">hover</span> <span class="p">{</span>
  <span class="k">color</span><span class="p">:</span> <span class="mh">#fff</span><span class="p">;</span>
  <span class="k">background</span><span class="p">:</span> <span class="n">LightPink</span><span class="p">;</span>
  <span class="k">border</span><span class="p">:</span> <span class="mi">1</span><span class="kt">px</span> <span class="kc">solid</span> <span class="n">LightPink</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><p><code>页面引入</code></p>
<div class="highlight"><pre class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">align</span><span class="o">=</span><span class="s">&#34;center&#34;</span><span class="p"></span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">table</span> <span class="na">border</span><span class="o">=</span><span class="s">&#34;0&#34;</span> <span class="na">align</span><span class="o">=</span><span class="s">&#34;center&#34;</span><span class="p"></span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">tr</span><span class="p"></span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">td</span><span class="p"></span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nt">ul</span> <span class="na">style</span><span class="o">=</span><span class="s">&#34;padding: 12px 13px 10px 0px;list-style-type:none;&#34;</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;anniu&#34;</span><span class="p"></span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">li</span><span class="p"></span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">b</span><span class="p"></span><span class="p">&gt;</span>
                    <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;{{ .Permalink }}#comment&#34;</span> <span class="na">style</span><span class="o">=</span><span class="s">&#34;font-family:Microsoft YaHei; serif;&#34;</span><span class="p"></span><span class="p">&gt;</span>加 载 评 论<span class="p">&lt;</span><span class="p">/</span><span class="nt">a</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="p">/</span><span class="nt">b</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="p">/</span><span class="nt">li</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="p">/</span><span class="nt">ul</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="p">/</span><span class="nt">td</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="p">/</span><span class="nt">tr</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="p">/</span><span class="nt">table</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="p">/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div><p>仅供参考，不保证任何环境都能完美实现。</p>
<p>本来<code>width</code>准备设置到<code>700px</code>的，想法是越宽越能方便用户点击，发现手机端不合适，于是设置了<code>300px</code>，有问题欢迎报错和交流😏</p>
<h2 id="heading2">调整页脚友情链接样式</h2>
<p>以上按钮比较满意，那就再顺手把友情链接表格样式一起调整一下，去掉了超链接的下划线，通过修改表格背景和边框颜色实现了无边框😭，没办法，弱鸡只会这么玩哈哈。欢迎交换首页链接，要求必须首页，必须是页脚位置且醒目😏，网站类型原则上不限制，但看我心情🐶。有专用的内页<a href="https://dtz9.net/links/">博客友链</a>，对于首页友链符合要求的可以申请首页友链。最后再说一句，欢迎随便交换友情链接😁</p>
</article><section class="article labels"><a class="category" href=/categories/%E5%BB%BA%E7%AB%99/>建站</a><a class="tag" href=/tags/%E7%BD%91%E7%AB%99%E7%BB%B4%E6%8A%A4/>网站维护</a><a class="tag" href=/tags/prism.js/>prism.js</a></section><section class="article navigation"><p><a class="link" href="/2019/08/3/"><span class="li">&larr;</span>【分享】Mastodon：一个免费开源的分布式微博客社交网络</a></p><p><a class="link" href="/2019/08/1/"><span class="li">&rarr;</span>【随笔】日更很难只能证明一下存在感了</a></p></section><br>
<div align="center">
  
  <ins class="adsbygoogle" style="display:inline-block;width:728px;height:90px" data-ad-client="ca-pub-5883329460904326"
    data-ad-slot="6466278453"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>
<br>
<div align="center">
  <font color="red">点击评论框“加入讨论”会显示名字邮箱网址选项，不一定需要登陆哦🙂</font>
</div>
<div id="comment">
  <script>
    var disq = new iDisqus('comment', {
      forum: '1078503',
      api: 'https://api.dtz9.net/disqus/api/',
      site: 'https://dtz9.net',
      mode: 2,
      init: true
    });
  </script>
</div></div><section id="footer" class="footer"><div class="footer-wrap">
    <p class="powerby">友情链接：<span><a href="https://ditou.org" 
        target="_blank">低头族</a></span> | <span><a href="https://dtz9.org" 
            target="_blank">网址导航</a></span> | <span><a href="http://stuit.cn/Xiaolu" 
                target="_blank">行者晓路</a></span> | <span><a href="https://cyhour.com/" 
                    target="_blank">常时阳光</a></span> | <span><a href="http://www.wuxiaohu.cn/" 
                        target="_blank">工程窝</a></span> | <span><a href="https://chriszheng.science/" 
                            target="_blank">M-x Chris-An-Emacser</a></span>
</div>
<br><div class="footer-wrap">
    <p class="copyright">©2019 - 2020 近视眼逛博客.</p>
    <p class="powerby"><span>Powered by </span><a href="https://gohugo.io" 
        target="_blank">Hugo</a><span> and the </span><a href="https://themes.gohugo.io/hugo-notepadium/" 
        target="_blank">Notepadium</a></p>
</div></section><script src="/js/prism.min.28f2bfd6dfaa7ad0e8b973373bb7db234d27a2faafc26d5ffd2de4c2b1b5f2bf80011f2e2976dc9fb364abb13f63ebdc.js" integrity="sha384-KPK/1t&#43;qetDouXM3O7fbI00novqvwm1f/S3kwrG18r&#43;AAR8uKXbcn7Nkq7E/Y&#43;vc"></script></div>
    <script type="text/javascript" src="https://js.users.51.la/19958321.js"></script>
    <script src="//instant.page/3.0.0" type="module" defer
        integrity="sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1"></script>
</body>

</html>